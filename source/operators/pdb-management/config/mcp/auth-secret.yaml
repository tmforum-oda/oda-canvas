apiVersion: v1
kind: Secret
metadata:
  name: pdb-mcp-auth
  namespace: canvas
  labels:
    app.kubernetes.io/component: mcp-server
    app.kubernetes.io/created-by: pdb-management
    app.kubernetes.io/instance: mcp-server
    app.kubernetes.io/part-of: pdb-management
type: Opaque
data:
  # htpasswd format: username:password
  # Default: admin:changeme (CHANGE IN PRODUCTION!)
  # Generate with: htpasswd -nb admin yourpassword | base64
  auth: YWRtaW46JGFwcjEkNk9PdUVqUU4kVTFUQkZLQUIvOW1MYzNYeE0yVC9JMQ==
---
apiVersion: v1
kind: Secret
metadata:
  name: pdb-mcp-tls
  namespace: canvas
  labels:
    app.kubernetes.io/component: mcp-server
    app.kubernetes.io/created-by: pdb-management
    app.kubernetes.io/instance: mcp-server
    app.kubernetes.io/part-of: pdb-management
type: kubernetes.io/tls
data:
  # Generate self-signed cert for testing:
  # openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  #   -keyout tls.key -out tls.crt \
  #   -subj "/CN=pdb-mcp.example.com"
  # kubectl create secret tls pdb-mcp-tls --cert=tls.crt --key=tls.key -n canvas
  tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZRVkVDQ0F6eUFnSUlVU1BrOHpMUWYrSTZNSXhUQU44TVJGNjFPVGhCLzBBZDhNbzNKa3JzWHFFN0IybXIKWWdaVG9JdHY1L1o0a2lDcEx3NHJxaDM3Y2ZoUmN2ZVZvVzJCZmNsNVYxUkptSng5czA0THhBTFFrTWdJWk1UZQpidG5BYk5LQjA3S2hZWGR2d3A4RGxCM3Z6Nzl2UURvWWhpcXVCNkZBSVVsSUdlZmJUZGs3SVRBZnZzeHl0TFh6ClAvV3BZQVJUVFczQmNGSG1iOXk5MmJneFhKSGM3Qjg4VnVhTm1FOFd4d0VnOXNVWEdJTzFDRGpXeUMrSVU4TnkKbzUzQXJJVW5wRHRvcVpLUVFiZTE5V1ZMTDQxUzJSZkYzeXVqNktoRlQ5Q3Q5cGZmVEpXenNOUFluajU5cWtEdQpXZkhRaFl1RTJHLzR6dDhBOGFnSUFBcHhkdGxGb1pqb0JOeXA1U3RJQ1QzYXdZTDRvekc1OStSSGV0bUp6NnFGCjlEcVNVQmxORld6Zm8vRUhwRGw5dGdBdUJBS05lN3hURlc1cTJMWm5Nc005V1lrWGE4SXVqWU9sQXF2NTNYSXIKb1NSaGtYcWJDQzN1QXQ3T2o2OU1CZlcyUVB4bVlYaFdrTFJmdWZmeElVeERUU1lNVmhIRzA1WDNqMTR5cnJROQoyQ2VpZXl5Y0dIZ1hoNGtKVGVIb0tNMXJJZmY3TFJPWVNuR3dJa1VaWnJEMFUyTHNXam9tSDhiOC9oaTVPeExjCmxFQkZ1OEo1cVhwSDQvTmo5bjI0Y0l6YVZKSWtIOUxVSGFSRkg2Rzh6V3d1dzdSK2s3UVd0Qi9rVlZuNlMxUkEKb3E2b2lrOXUrZ2s5bE5VYlI2NEIrYmY1WTR1c0tZZTJqb1IreDkzSUlXREI3QzB2SlVoUHZ2dXllZWJnSHhNNAo4dk52SjRJSXNVdmRjUCt6T25Kd0h3aXZhVERzZERKR2hBNUoyR1JSYVdObE9GOVJGMlNDeUpNUjJ6T1RlT3ByCkRGV2V1cFprTHczZUIvK1FhbVpQS1J4bzVRbGE5TzlFdFhNcEx5RG5GbnN0aWpmN3JjUUc4ZGY5OGV2cmtaYjMKL2RwUHo0QXhGTmY1UDVHS1dKcS9Ud0dKUlpOWTZZZWU5Y3RRT1FwQUNhUzZqRXNmejIxRXEwczBpQ1VrKzQ4bwpqWUNGYUNNaWZ3cHRRYjhETjZGUEJWeUFrSVNBUURSL29QOGc4ejg1Zjl4TXEvUTRGSlIzLzlVdHRCWWt1TXVlCkh4Vjg0b0JERTUyZzQ4TGFHclB5aUJySW5PSlRtMGhyMzVCeXNwQmdkS0krNnAvQ0c3UGFKa3RNUlJJOTVoYzQKRUVMS0xMK01OWGFsNUViZU1SckdvQVh5UDN4NURjL0VzRmt6ZWtsRVp2MkswdTNkM3czR0w5QWVsVlRsVmpNRgp4K1Q0YnpLN1JOZ3JvUlhCWE9BMy9CNnFxcVQzZElFVW5QK3lSbGNLTDhWUGRuRWJBZDBnUklGaXVrOFNlTnZkCmJnTkYzZWFINWE3VmdVYjBrTzNjZ1ZQd3JWeG92eUdIclBaTlhKOWFyekxRMXJ3QkFMdDBpbEJqWFJWUHBlZjEKZm5wckd6RW5kY0VzQUJrNVJRRTF5eFR0aGJYWUNaVlVVVG9yd2k4ajc4VjdFZjA5dm9PRVM5dFN5eGFRcGNKZAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t
  tls.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpSQUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1M0d2dna3FBME1JVURRQkFvSUNBUURCS0pIenFEb20KSUFDZVZ3S1E0NEFQMDNrSkhJb0RicURsN0p3cGovNzA3cnZNQmc5TzduWWQ0VzF3WkoxZGRhRFJxWEVpTU1FMwoyUTk4dUZpVTRZL0txNjhKZU9VSjh4ZkZSQnBMUEZCSkRoRXg2SjlIUzc3bmdrZVJnUktxQllWNXNEblRyc25FCmp1U1dNRmt1NVVrc25SUWNGTmRjMVN2cUxGZU5EQXB2ZHZqSzJTdGNqN1ZLOE5GZG5jZUh5S0RTWHllUWhBNE4KUFdvZ0Y5RlNlUzVHaE1MZGdTQ1FCaS9WdDBpK1dBb0kxZGVCcnE1enFwQVMrdnU3MGtEZDJWOXg0RUp0ZlVyZwpLeWNSeXZ3L2Yvd0lmb09RQUEzZDlIZGZBdUo1aU8yaHZRUHh5WEg5MHhhRGV6ckVsZDJWa3E3VjVTQmE4U0JGCkQxd0xCTEhRWnR2eDFyM3BaNDFCZkdqTXI5Tkp6QnFOQWp5Rm5RRGdOMkl6TmRZMzF2RzNqWDhROG9UZGg0QWMKa3lsLzVtTjRhOVl4eGp5L0tOdkhwMU9vVWM2K3ljN0VqZ0lrVzQ5S3RMVWNCVzlxY2gzZ1RjYVo1Sk5zVFU0VAp3SlZvSmpmZVc5d1A0Z1NVT0Urdks0cjltRUs1QWJCajY4bXNnbG5KVlNvdEY5OXJNUHI1M25ZTzYyQm5ncWMwCmN4bFltZUJzU1FYeDZaNWhWUGZYTzVxTXdlM001TGxjTGp2cmkxWGdnSTlxbXMzWXptbHFlZjhtbWN0N29lam8KaFBlRVdUK2hGMzFhQ2ZZL3llZnROaHZxbEtTRXZkVktOZExGRDFGdWNkdHhkTWdQem9Xb0dNQWdZeXNpTDVIMgo5U1p2aTJHZFlkaFZEZzhnSnh4cCtvNjJEL1ZFcEFLWUhjbCtHT3MwNzMzQjcrSkQzTmlGUUlEQVFBQkFvSUNBUUN5CkNKVXgxOG0zR0c1RStFMExLZ2YxNEt0TmduNjJJd05CVTZWZnEzQmZ4WkRrTURYaEMrSEplaTVuUUc4RTE0RTYKQ2xxWDlyZ2hnWU1DUTA1MFo1N3dzaG9xQXdYZkNQR0NhVlZsUGhQdW5KTWxBWnRzK3FFOW9lc2NoNi9iTitqWQp0MFNGVnNFWm9YeVRKaFZCTWNJdkUvMnI4SGZxTVdHZmNpdmMwbWtuZEVqeFh3VEJlRjJGRnYxZ0RFYXJXMDhBCmZMbnczWGhVN2VHUVVvYUQzUXRhdXN0YW1JSVRZczY4c1VCcFFJU1dBR2NvU2NhWWt3VnZWQWN4eDlTNmhQVXkKdDJ6ZVNyeTgrMzlJZS8vRUh5RnNwdnBQSmxRSFA3a0ovRTIrQlJRd0Y2T1VGS2VWSjZsMVBjdTFtOXFXazE5VwphOW9HUjA4VEQ5K3p3c1NUQUVxaTdKN0k3N3lweThNTWRuRGlqRGVCTy9vOGFQbFZxZUxFYXdGRHVTZHV5Q3U2CldNUjVjUm1xb3dmTDB1ODdaWHczZ2JPb0tTdnI0MzJ6dTkrY2RWYlZIL2l2L1JTRkZOWEZ5M1J0SWVYOG5UWEIKZ09PNUpZT084dks5cTF6VDBQZzJiUVFHbGNONFhVKzNDblRiSVRkV2lhaEdyeWRhSmQyTE90MUhDL0UwYVFLdQpsYStheTJQcUJuQzJJemYxM1NTUW1nRjZnZWU1Vm5KLzYzeWNFOHEzRUkwM1A2bjVLZWZBOGRmTC8vL1dtTVczCjVVbGJISEZjUnM5OFZrdjJaZy9CUzd6TXhSSDBpRmROTHNGWkpyWm1EalVEYVU3dVJVMnhQYWJYcGFLUWN3LzkKZzJQZXFNTEhQWWxCMVZNaHhDQTN4RVJrNjdadGxUUm81OUgwaFpXMTZMTTFBb0lCQVFEMGNFOEFtU3pEOVNBcAozSTF6ejVzR2hhN28yZWZOdGI3VnU3U1UyZUlNS0o0QmxUSzlicFVQeWdBVmJJaVhXU3A4VjNVekhKVlJBNktnCmtLc1psODZKKzE2L3JjWWNKZ2QxZDNRVStBU0V2ZU4rTzk0T0N0UWMvWXZvZFNJUUJ6aUZqUE5lU3AzU2lsMGcKaU8zbHNxdGY5Y1RpNFZieGI4b3NkVXRLVFNOYjIrNVQ2ZjZDMTg5YllmdEtsQUUrVUJPYjM5eXBNL3hscVpjQgpzWGdsTm9hKzJBRHlqZ1VmYm0yRCtyaDlOVXRCZ3FlSWZSUXgwSjNKRlZidXVWQ3hrZWtaRXhyODc0cVE4VzBBCnFib3JjTVFmdG1Ga2dKenU1WnFWNzNnWUtFRUZNNHBpWW9rZHA3MU5aTUoxdXFBYVNLK2NLUE1MSnpBSUN4bUcKVlVVYThCZDNGYVY3QW9JQkFRRGVkSUc2eXJjdW9YVlpOZlhGTERsRXQ5MnZyYUp5Z3pEYVdoK0pZZmpMYTJWdAp3YS9VcDdBTWpFcnNmRlF0MDlpRzlyMnh2WFR1RzEwd1pEOEdSWDA5TjVWcUU1azNxelV5UDduclZNalFvaFJRCmJsTld6ZTJ0b0FhejJyaEZDZ2IrUllOeDVzVkZqaXN6S2h0dWhjSTBYQjdTVjZYME1kVWU4NnE2UjdUbGJ2U3YKS3BQazRRbFZxUURoUWlhWG8vUXVmekVWcFRHZXI5NFJxeXh2b3laZ25acGlSVml1SXFIenFTZVRPMUNOVEdmQwpJbzBzQnhGWStDTUhQZ1d5NzFGTmdqK3REYTFIaXBOcmhFUFI3MHZHWWdMWjZWRExabWtoUjJLVmZEMzYrVVNzCmw0VzI3RHl6TjM0OXZXWGRsZXAzRUhPSW5wSWsrY3ZZMnlNUjZOVjFBb0lCQURxMWZOSGx4Yk9SNS96K3pLZ3gKSXlCekhGQkUrcXljTjBaSGxHRHZwQmQ2NVhyVFBZdWVmSmI1VlY3N2RzbGNHaGdEZzVzY0F4eGlvNy9HOERNRgpPaVBUdndxVWZWbEJndU1SWUJ1YUNYQVhDUTFvUWFJRlVFWjlCYzYrcTJGOWpraU9nN2pMY2c1VGg0ZjF4RGQxCjhKaGJqVmNhcGVQODdmU0NBMlhuN1BBb3NYb2xVWmdZSmZnZS9aZE50c1FCc1dHNUVYb2RwaHlxQ2lzNFgrclYKcDdSZGU1WElZRnNhY1E5Q2pNMXkvN1kyQWJqSm1YcVFWWGVaeDdmdm0zbGlGSm1USzZqNWk5cGdxRWZOb3FJKwpCWVBTWkJxZmN1WmJQQVMvcUVRN1BLQUxPUzNZdGgzTnlkT2VJK2NvM05qSlcwc2lOV1U3bmJzeUFNa0p3SCtJClhlQS9Bb0lCQUMvckhZaGd6b2tNQk1MaFdib0xHZ2tWVytCb1RmY0EzK1laVEhmU2dxNUxVOWViR1M0SDFXZmYKNTZraVQ0cVVHSUJEaUJjRUxTVXNHVGlIWEd3SWk2eGV5bCt5ZmY3dCtwcXY3STQ4K2Z6U0E5bUZZa2tpam05MQp4YnJPYkxXQzZqYmxDL0hqVkdMNjN4NFoyOWhCWnJYOHR6eHp5a0RITUJKRmdNRHI2WnRIZGVZNlJHbGRLS0tSCmdkLzVmeVZWdytyQng5N2l4Q2doQ1NMVzJJcCt5QUJJSk9hZDVhcVFQVGd0T21TNzRoYTJzZWl1aFNldm50VG0KWFZEcTlGUVQ4SlJha1VBbk1hYUkxOGdMejFIRWk2cnpVcXYwUnloWjdEZWdpdk1pOFBpQkFDRHVIVTNLZUtMYwpobFB5dVhxb3A2UGRGUzdaRUlzbmJGZ0Z5WGVEOTFRQ2dnRUJBS2JkcTF6RWV4WTJOL1NYS1NYdVhPaGNrVUlICjI0NDBEZTlBUjhIUmZFejdXNWpHYXA2OGRoTGJjL1I5b0VreXFmaGErNnVNcTVONDlXZDNNWFF2NzJTazlINUkKS3VJMWE3Nkt0djlmczRYZ1NOZldva01qZWFkR2xPeUFHcFcxWlJJQWNmOHp5ajhpOXlpY2dMTTNhMlhFRlpKYQpkWUxRSE1wSUlhSlU3d1JjNnFsbUlKOE5Kd2t3MElJOXZ3b0lseWNLMmI0Z2JOYnF5SUY2Kzc2NFZyNWZ6c1V3ClZmbU1MZjA2Ym0vM2pkTWpYTjdrNjQzVmhoTGFxUVIyZVFTZU0xT3lTTld0UGJaZVk2SXp0Q2pCTVdQQ2QyakEKNnRaR1Ridzl0WnlHMjBhdWJCdm5pODdMZi9TMCtHNGlBUmdrTlRFSTJsa2RHMHkxSFRqZlpDYzNHcGM9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0=