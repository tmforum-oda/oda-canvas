<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="696px" preserveAspectRatio="none" style="width:1592px;height:696px;background:#FFFFFF;" version="1.1" viewBox="0 0 1592 696" width="1592px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="1419.1045" x="167.3945" y="258.0938"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="1419.1045" x="167.3945" y="522.2891"/><g><title>Component Operator</title><rect fill="#000000" fill-opacity="0.00000" height="590.5234" width="8" x="82.1973" y="53.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="86" x2="86" y1="53.2969" y2="643.8203"/></g><g><title>API</title><rect fill="#000000" fill-opacity="0.00000" height="590.5234" width="8" x="189.3945" y="53.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="193.3945" x2="193.3945" y1="53.2969" y2="643.8203"/></g><g><title>apiOperator-Istio</title><rect fill="#000000" fill-opacity="0.00000" height="590.5234" width="8" x="345.9146" y="53.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="349.6948" x2="349.6948" y1="53.2969" y2="643.8203"/></g><g><title>Virtual Service</title><rect fill="#000000" fill-opacity="0.00000" height="590.5234" width="8" x="808.0591" y="53.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="811.9365" x2="811.9365" y1="53.2969" y2="643.8203"/></g><g><title>Istio</title><rect fill="#000000" fill-opacity="0.00000" height="590.5234" width="8" x="1110.6133" y="53.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1113.9297" x2="1113.9297" y1="53.2969" y2="643.8203"/></g><g><title>Service Monitor</title><rect fill="#000000" fill-opacity="0.00000" height="590.5234" width="8" x="1200.0015" y="53.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1203.2969" x2="1203.2969" y1="53.2969" y2="643.8203"/></g><g><title>Prometheus</title><rect fill="#000000" fill-opacity="0.00000" height="590.5234" width="8" x="1523.4204" y="53.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1527.3418" x2="1527.3418" y1="53.2969" y2="643.8203"/></g><g class="participant participant-head" data-participant="componentOperator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.3945" x="5" y="22"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.3945" x="12" y="41.9951">Component Operator</text></g><g class="participant participant-tail" data-participant="componentOperator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="162.3945" x="5" y="642.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148.3945" x="12" y="662.8154">Component Operator</text></g><g class="participant participant-head" data-participant="API"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.1484" x="179.3203" y="49.9951">API</text><ellipse cx="193.3945" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="181.3945" x2="205.3945" y1="35" y2="35"/></g><g class="participant participant-tail" data-participant="API"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.1484" x="179.3203" y="655.8154">API</text><ellipse cx="193.3945" cy="675.1172" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="181.3945" x2="205.3945" y1="689.1172" y2="689.1172"/></g><g class="participant participant-head" data-participant="apiOperator-Istio"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.4395" x="283.6948" y="22"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.4395" x="290.6948" y="41.9951">apiOperator-Istio</text></g><g class="participant participant-tail" data-participant="apiOperator-Istio"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.4395" x="283.6948" y="642.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.4395" x="290.6948" y="662.8154">apiOperator-Istio</text></g><g class="participant participant-head" data-participant="Virtual Service"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.2451" x="757.9365" y="49.9951">Virtual Service</text><ellipse cx="812.0591" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="800.0591" x2="824.0591" y1="35" y2="35"/></g><g class="participant participant-tail" data-participant="Virtual Service"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.2451" x="757.9365" y="655.8154">Virtual Service</text><ellipse cx="812.0591" cy="675.1172" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="800.0591" x2="824.0591" y1="689.1172" y2="689.1172"/></g><g class="participant participant-head" data-participant="Istio"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43.3672" x="1092.9297" y="22"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3672" x="1099.9297" y="41.9951">Istio</text></g><g class="participant participant-tail" data-participant="Istio"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43.3672" x="1092.9297" y="642.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29.3672" x="1099.9297" y="662.8154">Istio</text></g><g class="participant participant-head" data-participant="Service Monitor"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4092" x="1146.2969" y="49.9951">Service Monitor</text><ellipse cx="1204.0015" cy="21" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1192.0015" x2="1216.0015" y1="35" y2="35"/></g><g class="participant participant-tail" data-participant="Service Monitor"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.4092" x="1146.2969" y="655.8154">Service Monitor</text><ellipse cx="1204.0015" cy="675.1172" fill="#E2E2F0" rx="12" ry="12" style="stroke:#181818;stroke-width:0.5;"/><line style="stroke:#181818;stroke-width:0.5;" x1="1192.0015" x2="1216.0015" y1="689.1172" y2="689.1172"/></g><g class="participant participant-head" data-participant="Prometheus"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.1572" x="1478.3418" y="22"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.1572" x="1485.3418" y="41.9951">Prometheus</text></g><g class="participant participant-tail" data-participant="Prometheus"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98.1572" x="1478.3418" y="642.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.1572" x="1485.3418" y="662.8154">Prometheus</text></g><g class="message" data-participant-1="componentOperator" data-participant-2="API"><polygon fill="#181818" points="181.3945,80.4297,191.3945,84.4297,181.3945,88.4297,185.3945,84.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="86.1973" x2="187.3945" y1="84.4297" y2="84.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68.1802" x="93.1973" y="79.3638">Create API</text></g><g class="message" data-participant-1="API" data-participant-2="apiOperator-Istio"><polygon fill="#181818" points="337.9146,109.5625,347.9146,113.5625,337.9146,117.5625,341.9146,113.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="193.3945" x2="343.9146" y1="113.5625" y2="113.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.1348" x="200.3945" y="108.4966">onCreate/Update</text></g><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="Virtual Service"><polygon fill="#181818" points="800.0591,138.6953,810.0591,142.6953,800.0591,146.6953,804.0591,142.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="349.9146" x2="806.0591" y1="142.6953" y2="142.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.8545" x="356.9146" y="137.6294">Create or update Virtual Service resource</text></g><g class="message" data-participant-1="Virtual Service" data-participant-2="Istio"><polygon fill="#181818" points="1102.6133,167.8281,1112.6133,171.8281,1102.6133,175.8281,1106.6133,171.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="812.0591" x2="1108.6133" y1="171.8281" y2="171.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.5498" x="819.0591" y="166.7622">Configure Istio traffic policy</text></g><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="apiOperator-Istio"><line style="stroke:#181818;stroke-width:1;" x1="349.9146" x2="391.9146" y1="200.9609" y2="200.9609"/><line style="stroke:#181818;stroke-width:1;" x1="391.9146" x2="391.9146" y1="200.9609" y2="213.9609"/><line style="stroke:#181818;stroke-width:1;" x1="350.9146" x2="391.9146" y1="213.9609" y2="213.9609"/><polygon fill="#181818" points="360.9146,209.9609,350.9146,213.9609,360.9146,217.9609,356.9146,213.9609" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="448.1445" x="356.9146" y="195.895">Listen for updates to the external URL/IP Address (from Istio ingress)</text></g><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="API"><polygon fill="#181818" points="204.3945,239.0938,194.3945,243.0938,204.3945,247.0938,200.3945,243.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="198.3945" x2="348.9146" y1="243.0938" y2="243.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.52" x="210.3945" y="238.0278">Update status of API</text></g><path d="M167.3945,258.0938 L627.8677,258.0938 L627.8677,265.2266 L617.8677,275.2266 L167.3945,275.2266 L167.3945,258.0938" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="1419.1045" x="167.3945" y="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="415.4731" x="182.3945" y="271.1606">api type is metrics, also create Service Monitor resource</text><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="Service Monitor"><polygon fill="#181818" points="1192.0015,292.3594,1202.0015,296.3594,1192.0015,300.3594,1196.0015,296.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="349.9146" x2="1198.0015" y1="296.3594" y2="296.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="277.5068" x="356.9146" y="291.2935">Create or update Service Monitor resource</text></g><g class="message" data-participant-1="Service Monitor" data-participant-2="Prometheus"><polygon fill="#181818" points="1515.4204,321.4922,1525.4204,325.4922,1515.4204,329.4922,1519.4204,325.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1204.0015" x2="1521.4204" y1="325.4922" y2="325.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="299.4189" x="1211.0015" y="320.4263">Configure Prometheus scraping of metrics API</text></g><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="API"><polygon fill="#181818" points="204.3945,350.625,194.3945,354.625,204.3945,358.625,200.3945,354.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="198.3945" x2="348.9146" y1="354.625" y2="354.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.52" x="210.3945" y="349.5591">Update status of API</text></g><g class="message" data-participant-1="componentOperator" data-participant-2="API"><polygon fill="#181818" points="181.3945,386.7578,191.3945,390.7578,181.3945,394.7578,185.3945,390.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="86.1973" x2="187.3945" y1="390.7578" y2="390.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.4121" x="93.1973" y="385.6919">Delete API</text></g><g class="message" data-participant-1="API" data-participant-2="apiOperator-Istio"><polygon fill="#181818" points="337.9146,415.8906,347.9146,419.8906,337.9146,423.8906,341.9146,419.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="193.3945" x2="343.9146" y1="419.8906" y2="419.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.9063" x="200.3945" y="414.8247">onDelete</text></g><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="Virtual Service"><polygon fill="#181818" points="800.0591,445.0234,810.0591,449.0234,800.0591,453.0234,804.0591,449.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="349.9146" x2="806.0591" y1="449.0234" y2="449.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.7188" x="356.9146" y="443.9575">Delete Virtual Service resource</text></g><g class="message" data-participant-1="Virtual Service" data-participant-2="Istio"><polygon fill="#181818" points="1102.6133,474.1563,1112.6133,478.1563,1102.6133,482.1563,1106.6133,478.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="812.0591" x2="1108.6133" y1="478.1563" y2="478.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278.5542" x="819.0591" y="473.0903">Remove Configuration of Istio traffic policy</text></g><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="API"><polygon fill="#181818" points="204.3945,503.2891,194.3945,507.2891,204.3945,511.2891,200.3945,507.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="198.3945" x2="348.9146" y1="507.2891" y2="507.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.52" x="210.3945" y="502.2231">Update status of API</text></g><path d="M167.3945,522.2891 L348.3994,522.2891 L348.3994,529.4219 L338.3994,539.4219 L167.3945,539.4219 L167.3945,522.2891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="1419.1045" x="167.3945" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="136.0049" x="182.3945" y="535.356">api type is metrics</text><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="Service Monitor"><polygon fill="#181818" points="1192.0015,556.5547,1202.0015,560.5547,1192.0015,564.5547,1196.0015,560.5547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="349.9146" x2="1198.0015" y1="560.5547" y2="560.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.3711" x="356.9146" y="555.4888">Delete Service Monitor resource</text></g><g class="message" data-participant-1="Service Monitor" data-participant-2="Prometheus"><polygon fill="#181818" points="1515.4204,585.6875,1525.4204,589.6875,1515.4204,593.6875,1519.4204,589.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1204.0015" x2="1521.4204" y1="589.6875" y2="589.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262.5835" x="1211.0015" y="584.6216">Remove Configuration from Prometheus</text></g><g class="message" data-participant-1="apiOperator-Istio" data-participant-2="API"><polygon fill="#181818" points="204.3945,614.8203,194.3945,618.8203,204.3945,622.8203,200.3945,618.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="198.3945" x2="348.9146" y1="618.8203" y2="618.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.52" x="210.3945" y="613.7544">Update status of API</text></g><!--SRC=[fLHDQy904BtdLmmvjL3nxg4WzY8e5OkzBvj9N8Yxo-n4wh_lv5EDCLGR20d3cpTlthx4AsAZZLUM8LwuWtSMvVNJ8obs58CAeDjoMutatV09vfjbv2y9b3SjPh8CR5pSGkDlGroe7BwGZaPZVDLOOJje0u6riwRKS0NTa3iWxx48KNGZ32RlfQWPB0WLOoLGRgaEI9k1ipLkklE9FA81KCbuextZbub5rGez2106Lv0Mpdwp45RKGk9iQhA2i2u0aqfJey6xtEZJNJL3cwnCOBIGTe82i13k4V27aQpCtsrNq-K6vaaYsWAyf69aCzZOhAoztXjPMLfx184L5m5SMbOXoiWL7gGD-EGHJ00v7J8wl87AWmDT6zKxqhCz8DUzHViv6B1zdBTF8AJd-5pwVwv2q2HoR5PksAnInMX4w8WzQ9Enc7vWZd-9QOrx89yDyJEftEB17R4pHqdHbliyaj5d0lDW59eD_nM0mLMhx-BYB_FqmVy2]--></g></svg>